# Трейсинг сервиса заметок с использованием OpenTelemetry и Jaeger

Этот проект демонстрирует интеграцию распределенного трейсинга в сервис заметок с помощью OpenTelemetry и Jaeger. Используя трейсинг, вы можете отслеживать и анализировать прохождение запросов через различные компоненты вашего приложения, выявлять узкие места и оптимизировать производительность.

## Технологии

- **OpenTelemetry** - открытый стандарт для инструментирования, генерации и сбора телеметрических данных
- **Jaeger** - система распределенного трейсинга с открытым исходным кодом
- **Docker** - платформа для разработки, доставки и запуска приложений в контейнерах
- **Redis** - хранилище структур данных в памяти, используемое как база данных и кэш
- **Fiber** - быстрый веб-фреймворк для Go

## Структура проекта

```
.
├── cmd/                # Точка входа приложения
│   └── main.go         # Главный файл приложения
├── internal/           # Внутренний код приложения
├── docker-compose.yml  # Конфигурация Docker для запуска всех сервисов
└── README.md           # Документация проекта
```

## Быстрый старт

### Предварительные требования

- Установленный Docker и Docker Compose
- Go 1.18 или выше (если хотите запускать сервис без Docker)

### Запуск

1. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/shoksin/tracing-jaeger.git
   cd tracing-jaeger
   ```

2. Запустите сервисы с помощью Docker Compose:
   ```bash
   docker-compose up -d
   ```

3. Запустите сервис заметок:
   ```bash
   go run cmd/main.go
   ```

4. Откройте Jaeger UI для просмотра трейсов:
   ```
   http://localhost:16686
   ```

## Принцип работы

1. При запуске приложение инициализирует OpenTelemetry с экспортером Jaeger
2. Каждый запрос к сервису автоматически трейсится
3. Трейсы отправляются в Jaeger Collector
4. В Jaeger UI вы можете просматривать и анализировать трейсы, выявлять длительные операции и проблемные места

## Как использовать Jaeger UI

1. Откройте Jaeger UI в браузере: http://localhost:16686
2. В поле "Service" выберите ваш сервис
3. Установите необходимые фильтры по времени и операциям
4. Нажмите кнопку "Find Traces" для поиска трейсов
5. Щелкните по трейсу, чтобы увидеть подробную информацию о его выполнении

## Преимущества использования трейсинга

- Визуализация потока запросов через микросервисы
- Выявление узких мест и неоптимального кода
- Обнаружение ошибок и их причин
- Оптимизация времени отклика сервисов
- Улучшение пользовательского опыта

## Полезные ссылки

- [Документация OpenTelemetry](https://opentelemetry.io/docs/)
- [Документация Jaeger](https://www.jaegertracing.io/docs/latest/)
- [OpenTelemetry для Go](https://opentelemetry.io/docs/instrumentation/go/)

## Лицензия

MIT
